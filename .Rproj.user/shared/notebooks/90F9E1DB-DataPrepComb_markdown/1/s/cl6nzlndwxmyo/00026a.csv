"0",""
"0","# salinity temp and do percent value "
"0",""
"0",""
"0","# "
"0","# "
"0","#  DEPTH #"
"0","# "
"0","# "
"0","# # Poke:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_20.url <- ""https://drive.google.com/drive/u/1/folders/1S2L8Qg08AIhQo1ZdKdaxlJliz4bi1ttr"""
"0","# WR.20.1 <- drive_get(as_id(WR_20.url))"
"0","# poke.wr20_glist <- drive_ls(WR.20.1, pattern = ""R_Flowmeter Q calculation_POKE_for_R_JAA.csv"")"
"0","# walk(poke.wr20_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# poke_WR_20.Data <- read.csv(""R_Flowmeter Q calculation_POKE_for_R_JAA.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# poke_WR_20.Data <- poke_WR_20.Data %>%"
"0","#   dplyr::rename(Date = Ã¯..Date)"
"0","# "
"0","# poke_WR_20.Data <- poke_WR_20.Data %>% tidyr::fill(Date, .direction = (""down""))"
"0","# "
"0","# poke_WR_20.Data <- poke_WR_20.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# poke_WR_20.Data$datetimeAK <- as.POSIXct(paste(poke_WR_20.Data$Date, poke_WR_20.Data$Time), format=""%y%m%d %H:%M"")"
"0","# "
"0","# "
"0","# poke_WR_20.Data <- poke_WR_20.Data %>%"
"0","#   select(Depth, datetimeAK)"
"0","# "
"0","# Poke_depth_20 <- ddply(na.omit(poke_WR_20.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth)))"
"0","# "
"0","# # poke_wr.lm <- lm(meanDepth~datetimeAK, Poke_depth_20)"
"0","# "
"0","# "
"0","# Poke_depth_20 <- setDT(Poke_depth_20)"
"0","# "
"0","# Poke_depth_20 <- Poke_depth_20 %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# poke.exo.2020 <- setDT(poke.exo.2020)"
"0","# "
"0","# setDT(Poke_depth_20)"
"0","# setDT(poke.exo.2020)"
"0","# "
"0","# poke.exo.2020$datetimeAK1 <- poke.exo.2020$datetimeAK"
"0","# "
"0","# setkey( poke.exo.2020, datetimeAK )"
"0","# setkey( Poke_depth_20, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_poke20 <- poke.exo.2020[ Poke_depth_20, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_poke20 <- rounded.dates_poke20 %>%"
"0","#   dplyr::rename(datetimeAK_old = datetimeAK)"
"0","# rounded.dates_poke20 <- rounded.dates_poke20 %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK1)"
"0","# "
"0","# rounded.dates_poke20 <- rounded.dates_poke20 %>%"
"0","#   select(meanDepth, datetimeAK)"
"0","# "
"0","# Poke.2020.DO.Depth <- merge(poke.exo.2020, rounded.dates_poke20, by = ""datetimeAK"", all = TRUE)"
"0","# Poke.2020.DO.Depth$meanDepth1 <- Poke.2020.DO.Depth$meanDepth"
"0","# "
"0","# poke20mod <- lm(meanDepth ~ datetimeAK, Poke.2020.DO.Depth)"
"0","# "
"0","# summary(poke20mod)"
"0","# "
"0","# Poke.2020.DO.Depth <- Poke.2020.DO.Depth %>% "
"0","#   mutate(predictedDepth = predict(poke20mod, .)) %>%"
"0","#   # Replace NA with pred in var1"
"0","#   mutate(meanDepth = ifelse(is.na(meanDepth), predictedDepth, meanDepth))"
"0","# "
"0","# "
"0",""
"0",""
"0",""
"0",""
"0",""
"0","### 2021 ###"
"0",""
"0","#Read processed CSV from DoD 2021 Script "
"0","exo.processed.2021 <- read_csv(""C:/Users/jadams125/documents/GitHub/DoD_2021/EXO_data/from_internal_harddrive/processed/EXO.processed.csv"")"
"1","[38;5;255mNew names:
[36m*[38;5;255m `` -> `...1`[39m
"
"1","[1mRows: [22m[34m656431[39m [1mColumns: [22m[34m23[39m
"
"1","[36m--[39m [1mColumn specification[22m [36m--------------------------------------------------------------------------[39m
[1mDelimiter:[22m "",""
[31mchr[39m   (2): site.ID, notes
[32mdbl[39m  (18): ...1, Time.s, Cond.uScm, fDOM.QSU, fDOM.RFU, nLFCond.uScm, ODO.Psat, ODO.Ploc, ODO....
[34mdttm[39m  (1): datetimeAK
[34mdate[39m  (1): Date
[34mtime[39m  (1): Time
"
"1","
[36mi[39m Use `spec()` to retrieve the full column specification for this data.
[36mi[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","poke.exo.2021 <- exo.processed.2021 %>% filter(site.ID == ""POKE"")"
"0","poke.exo.2021 <- as.data.frame(poke.exo.2021)"
"0",""
"0",""
"0","#mean to when burst was taken"
"0",""
"0","#mean bursts"
"0","poke.exo.2021$datetimeAK <- lubridate::round_date(as.POSIXct( poke.exo.2021$datetimeAK), ""15 minutes"")"
"0",""
"0","pokemean2021odoMGL <- aggregate( ODO.mgL ~ datetimeAK, poke.exo.2021, mean)"
"0","pokemean2021odoPSAT <- aggregate( ODO.Psat ~ datetimeAK, poke.exo.2021, mean)"
"0","pokemean2021odoPLOC <- aggregate( ODO.Ploc ~ datetimeAK, poke.exo.2021, mean)"
"0","pokemean2021odoTEMPC <- aggregate( Temp.C ~ datetimeAK, poke.exo.2021, mean)"
"0",""
"0","pokemeans2021ODO <- plyr::join(pokemean2021odoMGL, pokemean2021odoPSAT, by = ""datetimeAK"")"
"0","pokemeans2021ODO <- plyr::join(pokemeans2021ODO, pokemean2021odoPLOC, by = ""datetimeAK"")"
"0","pokemeans2021ODO <- plyr::join(pokemeans2021ODO, pokemean2021odoTEMPC, by = ""datetimeAK"")"
"0",""
"0",""
"0",""
"0",""
"0","# "
"0","# DEPTH #"
"0","# "
"0","# "
"0","# # Poke:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_21.url <- ""https://drive.google.com/drive/u/1/folders/18z6vSz6SE3DEvUVDyfM8I3gqkGaxQqOl"" "
"0","# WR.21.1 <- drive_get(as_id(WR_21.url))"
"0","# poke.wr21_glist <- drive_ls(WR.21.1, pattern = ""R_Flowmeter Q calculation_POKE_for_R_JAA_2021.csv"")"
"0","# walk(poke.wr21_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# poke_WR_21.Data <- read.csv(""R_Flowmeter Q calculation_POKE_for_R_JAA_2021.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# "
"0","# poke_WR_21.Data <- poke_WR_21.Data %>%"
"0","#   dplyr::rename(Date = Ã¯..Date)"
"0","# "
"0","# poke_WR_21.Data <- poke_WR_21.Data %>% tidyr::fill(Date, .direction = (""down""))"
"0","# "
"0","# poke_WR_21.Data <- poke_WR_21.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# poke_WR_21.Data$datetimeAK <- as.POSIXct(paste(poke_WR_21.Data$Date, poke_WR_21.Data$Time), format=""%y%m%d %H:%M"")"
"0","# "
"0","# "
"0","# poke_WR_21.Data <- poke_WR_21.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Poke_depth_21 <- ddply(na.omit(poke_WR_21.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # poke_wr.lm <- lm(meanDepth~datetimeAK, Poke_depth_21)"
"0","# "
"0","# "
"0","# Poke_depth_21 <- setDT(Poke_depth_21)"
"0","# "
"0","# Poke_depth_21 <- Poke_depth_21 %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# pokemeans2021ODO <- setDT(pokemeans2021ODO)"
"0","# "
"0","# setDT(Poke_depth_21)"
"0","# setDT(pokemeans2021ODO)"
"0","# "
"0","# pokemeans2021ODO$datetimeAK1 <- pokemeans2021ODO$datetimeAK"
"0","# "
"0","# setkey( pokemeans2021ODO, datetimeAK )"
"0","# setkey( Poke_depth_21, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_poke21 <- pokemeans2021ODO[Poke_depth_21, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_poke21 <- rounded.dates_poke21 %>%"
"0","#   dplyr::rename(datetimeAK_old = datetimeAK)"
"0","# rounded.dates_poke21 <- rounded.dates_poke21 %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK1)"
"0","# "
"0","# rounded.dates_poke21 <- rounded.dates_poke21 %>%"
"0","#   select(meanDepth, datetimeAK)"
"0","# "
"0","# Poke.2021.DO.Depth <- merge(pokemeans2021ODO, rounded.dates_poke21, by = ""datetimeAK"", all = TRUE)"
"0","# Poke.2021.DO.Depth$meanDepth1 <- Poke.2021.DO.Depth$meanDepth"
"0","# "
"0","# poke21mod <- lm(meanDepth ~ datetimeAK, Poke.2021.DO.Depth)"
"0","# "
"0","# summary(poke21mod)"
"0","# "
"0","# Poke.2021.DO.Depth <- Poke.2021.DO.Depth %>% "
"0","#   mutate(predictedDepth = predict(poke21mod, .)) %>%"
"0","#   # Replace NA with pred in var1"
"0","#   mutate(meanDepth = ifelse(is.na(meanDepth), predictedDepth, meanDepth))"
"0","# "
"0",""
"0",""
"0",""
"0",""
"0","#Put together"
"0","final.Poke.DO.2019 <- final.Poke.DO.2019 %>%"
"0","  select(datetimeAK, Temp.C, ODO.mgL, ODO.Psat, ODO.Ploc)"
"0",""
"0","poke.exo.2020 <- poke.exo.2020 %>%"
"0","  select(datetimeAK, Temp.C, ODO.mgL, ODO.Psat, ODO.Ploc)"
"0",""
"0","pokemeans2021ODO <- pokemeans2021ODO %>%"
"0","  select(datetimeAK, Temp.C, ODO.mgL, ODO.Psat, ODO.Ploc)"
"0",""
"0",""
"0","All.years.poke.MESSY <- rbind(final.Poke.DO.2019, poke.exo.2020, pokemeans2021ODO)"
"0",""
"0","All.years.poke.MESSY <- All.years.poke.MESSY %>%"
"0","  dplyr::rename(DO.obs = ODO.mgL)"
"0",""
"0","All.years.poke.MESSY <- All.years.poke.MESSY %>%"
"0","  dplyr::rename(temp.water = Temp.C)"
"0",""
"0",""
"0","#plot all"
"0",""
"0","#keep in mind 2019 and 2020 is clean data and 2021 is not."
"0","pdf(file = ""C:/Users/jadams125/documents/GitHub/UAF-Metabolism/Plots/PokerODO.pdf"")"
