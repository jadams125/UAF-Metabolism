"0","# abline(poke21_depth_mod)"
"0",""
"0","#extract slope of model and develop rating curve"
"0","poke.2021.q.dt$RatingCurveDepth <- poke21_depth_mod$coefficients[1]+(poke21_depth_mod$coefficients[2])*poke.2021.q.dt$Q"
"0",""
"0",""
"0","######"
"0",""
"0",""
"0",""
"0",""
"0",""
"0",""
"0",""
"0","#MY METHOD"
"0",""
"0","# "
"0","# "
"0","# # Poke 2019:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_19.url <- ""https://drive.google.com/drive/u/1/folders/1bm62_JO1dKrFPyUCz8E88K5q7IHElXPP"""
"0","# WR.19.1 <- drive_get(as_id(WR_19.url))"
"0","# poke.wr19_glist <- drive_ls(WR.19.1, pattern = ""poke_2019_flowmeter_Q_for_R_JAA.csv"")"
"0","# walk(poke.wr19_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# poke_WR_19.Data <- read.csv(""poke_2019_flowmeter_Q_for_R_JAA.csv"","
"0","#                             skip = 1, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# poke_WR_19.Data <- poke_WR_19.Data %>% tidyr::fill(Date, .direction = (""down""))"
"0","# "
"0","# poke_WR_19.Data <- poke_WR_19.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# poke_WR_19.Data$datetimeAK <- as.POSIXct(paste(poke_WR_19.Data$Date, poke_WR_19.Data$Time), format=""%m/%d/%Y %H:%M"")"
"0","# "
"0","# "
"0","# poke_WR_19.Data <- poke_WR_19.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Poke_depth_19_WR <- ddply(na.omit(poke_WR_19.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # poke_wr.lm <- lm(meanDepth~datetimeAK, Poke_depth_19)"
"0","# "
"0","# "
"0","# Poke_depth_19_WR <- setDT(Poke_depth_19_WR)"
"0","# "
"0","# Poke_depth_19_WR <- Poke_depth_19_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# # poke.2019.pt <- poke.2019.pt %>%"
"0","#   # dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# poke.2019.pt <- setDT(poke.2019.pt)"
"0","# "
"0","# "
"0","# "
"0","# # poke.2019.pt <- poke.2019.pt %>%"
"0","# #   mutate(across(c(AvgAbsDepth),"
"0","# #                 ~ifelse(datetimeAK >= ""2019-08-26 02:00:00"" & datetimeAK <= ""2019-09-08 12:15:00"", NA, .)))"
"0","# "
"0","# "
"0","# "
"0","# poke.all.q.dt <- POKE.ALL.Q"
"0","# "
"0","# "
"0","# setDT(Poke_depth_19_WR)"
"0","# setDT(poke.all.q.dt)"
"0","# "
"0","# poke.all.q.dt$datetimeAK1 <- poke.all.q.dt$datetimeAK"
"0","# "
"0","# setkey( poke.all.q.dt, datetimeAK )"
"0","# setkey( Poke_depth_19_WR, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_poke19 <- poke.all.q.dt[ Poke_depth_19_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_poke19_WR_Q <- rounded.dates_poke19 %>%"
"0","#   select(datetimeAK, discharge, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_poke19_WR_Q$meanDepth <- rounded.dates_poke19_WR_Q$meanDepth /100"
"0","# "
"0","# poke_pt_wr_graph <- ggplot(rounded.dates_poke19_WR_Q, aes(discharge, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# poke_pt_wr_graph + geom_smooth(method = lm) + xlab(""Discharge"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/poke_Q_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# poke19_depth_mod <- lm(meanDepth~discharge, data = rounded.dates_poke19_WR_Q)"
"0","# "
"0","# summary(poke19_depth_mod)"
"0","# "
"0","# plot(meanDepth~discharge, data = rounded.dates_poke19_WR_Q)"
"0","# # abline(poke19_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# poke.all.q.dt$RatingCurveDepth <- poke19_depth_mod$coefficients[1]+(poke19_depth_mod$coefficients[2])*poke.all.q.dt$discharge"
"0","# "
"0","# "
"0","# # rounded.dates_poke19 <- rounded.dates_poke19 %>%"
"0","# #   dplyr::rename(datetimeAK_old = datetimeAK)"
"0","# # rounded.dates_poke19 <- rounded.dates_poke19 %>%"
"0","# #   dplyr::rename(datetimeAK = datetimeAK1)"
"0","# # "
"0","# # rounded.dates_poke19 <- rounded.dates_poke19 %>%"
"0","# #   select(meanDepth, datetimeAK)"
"0","# # "
"0","# # Poke.2019.pt_WR.Depth <- merge(poke.2019.pt, rounded.dates_poke19, by = ""datetimeAK"", all = TRUE)"
"0","# # Poke.2019.pt_WR.Depth$meanDepth1 <- Poke.2019.pt_WR.Depth$meanDepth"
"0","# # "
"0","# # testmod <- lm(meanDepth ~ datetimeAK, Poke.2019.pt_WR.Depth)"
"0","# # "
"0","# # summary(testmod)"
"0","# # "
"0","# # Poke.2019.pt_WR.Depth <- Poke.2019.pt_WR.Depth %>% "
"0","# #   mutate(predictedDepth = predict(testmod, .)) %>%"
"0","# #   # Replace NA with pred in var1"
"0","# #   mutate(meanDepth = ifelse(is.na(meanDepth), predictedDepth, meanDepth))"
"0","# # "
"0","# # "
"0","# # plot(Poke.2019.pt_WR.Depth$AbsPTDepth , Poke.2019.pt_WR.Depth$predictedDepth)"
"0","# # "
"0","# # "
"0","# # "
"0","# # "
"0","# # "
"0","# # "
"0","# # "
"0","# # "
"0","# # "
"0","# "
"0","# # # Vaul 2019:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_19.url <- ""https://drive.google.com/drive/u/1/folders/1bm62_JO1dKrFPyUCz8E88K5q7IHElXPP"""
"0","# WR.19.1 <- drive_get(as_id(WR_19.url))"
"0","# vaul.wr19_glist <- drive_ls(WR.19.1, pattern = ""vaul_2019_flowmeter_Q_for_R_JAA.csv"")"
"0","# walk(vaul.wr19_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# vaul_WR_19.Data <- read.csv(""vaul_2019_flowmeter_Q_for_R_JAA.csv"","
"0","#                             skip = 1, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# vaul_WR_19.Data <- vaul_WR_19.Data %>% tidyr::fill(Date, .direction = (""down""))"
"0","# "
"0","# vaul_WR_19.Data <- vaul_WR_19.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# vaul_WR_19.Data$datetimeAK <- as.POSIXct(paste(vaul_WR_19.Data$Date, vaul_WR_19.Data$Time), format=""%m/%d/%Y %H:%M"")"
"0","# "
"0","# "
"0","# vaul_WR_19.Data <- vaul_WR_19.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Vaul_depth_19_WR <- ddply(na.omit(vaul_WR_19.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # vaul_wr.lm <- lm(meanDepth~datetimeAK, Vaul_depth_19)"
"0","# "
"0","# "
"0","# Vaul_depth_19_WR <- setDT(Vaul_depth_19_WR)"
"0","# "
"0","# Vaul_depth_19_WR <- Vaul_depth_19_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# vaul.2019.pt <- vaul.2019.pt %>%"
"0","#   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# vaul.2019.pt <- setDT(vaul.2019.pt)"
"0","# "
"0","# setDT(Vaul_depth_19_WR)"
"0","# setDT(vaul.2019.pt)"
"0","# "
"0","# vaul.2019.pt$datetimeAK1 <- vaul.2019.pt$datetimeAK"
"0","# "
"0","# setkey( vaul.2019.pt, datetimeAK )"
"0","# setkey( Vaul_depth_19_WR, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_vaul19 <- vaul.2019.pt[ Vaul_depth_19_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_vaul19_WR_PT <- rounded.dates_vaul19 %>%"
"0","#   select(datetimeAK, AbsPTDepth, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_vaul19_WR_PT$meanDepth <- rounded.dates_vaul19_WR_PT$meanDepth /100"
"0","# "
"0","# vaul_pt_wr_graph <- ggplot(rounded.dates_vaul19_WR_PT, aes(AbsPTDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# vaul_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/vaul_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# vaul19_depth_mod <- lm(meanDepth~AbsPTDepth, data = rounded.dates_vaul19_WR_PT)"
"0","# "
"0","# summary(vaul19_depth_mod)"
"0","# "
"0","# plot(meanDepth~AbsPTDepth, data = rounded.dates_vaul19_WR_PT)"
"0","# abline(vaul19_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# vaul.2019.pt$RatingCurveDepth <-vaul19_depth_mod$coefficients[1]+(vaul19_depth_mod$coefficients[2])*vaul.2019.pt$AbsPTDepth"
"0","# "
"0","# "
"0","# # # Moos 2019:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_19.url <- ""https://drive.google.com/drive/u/1/folders/1bm62_JO1dKrFPyUCz8E88K5q7IHElXPP"""
"0","# WR.19.1 <- drive_get(as_id(WR_19.url))"
"0","# moos.wr19_glist <- drive_ls(WR.19.1, pattern = ""moos_2019_flowmeter_Q_for_R_JAA.csv"")"
"0","# walk(moos.wr19_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# moos_WR_19.Data <- read.csv(""moos_2019_flowmeter_Q_for_R_JAA.csv"","
"0","#                             skip = 1, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# moos_WR_19.Data <- moos_WR_19.Data %>% tidyr::fill(Date, .direction = (""down""))"
"0","# "
"0","# moos_WR_19.Data <- moos_WR_19.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# moos_WR_19.Data$datetimeAK <- as.POSIXct(paste(moos_WR_19.Data$Date, moos_WR_19.Data$Time), format=""%m/%d/%Y %H:%M"")"
"0","# "
"0","# "
"0","# moos_WR_19.Data <- moos_WR_19.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Moos_depth_19_WR <- ddply(na.omit(moos_WR_19.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # moos_wr.lm <- lm(meanDepth~datetimeAK, Moos_depth_19)"
"0","# "
"0","# "
"0","# Moos_depth_19_WR <- setDT(Moos_depth_19_WR)"
"0","# "
"0","# Moos_depth_19_WR <- Moos_depth_19_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# moos.2019.pt <- moos.2019.pt %>%"
"0","#   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# moos.2019.pt <- moos.2019.pt %>%"
"0","#   dplyr::rename(AvgAbsDepth = AbsPTDepth)"
"0","# "
"0","# moos.2019.pt <- setDT(moos.2019.pt)"
"0","# "
"0","# setDT(Moos_depth_19_WR)"
"0","# setDT(moos.2019.pt)"
"0","# "
"0","# moos.2019.pt$datetimeAK1 <- moos.2019.pt$datetimeAK"
"0","# "
"0","# setkey( moos.2019.pt, datetimeAK )"
"0","# setkey( Moos_depth_19_WR, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_moos19 <- moos.2019.pt[ Moos_depth_19_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_moos19_WR_PT <- rounded.dates_moos19 %>%"
"0","#   select(datetimeAK, AvgAbsDepth, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_moos19_WR_PT$meanDepth <- rounded.dates_moos19_WR_PT$meanDepth /100"
"0","# "
"0","# moos_pt_wr_graph <- ggplot(rounded.dates_moos19_WR_PT, aes(AvgAbsDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# moos_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/moos_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# moos19_depth_mod <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_moos19_WR_PT)"
"0","# "
"0","# summary(moos19_depth_mod)"
"0","# "
"0","# plot(meanDepth~AvgAbsDepth, data = rounded.dates_moos19_WR_PT)"
"0","# abline(moos19_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# moos.2019.pt$RatingCurveDepth <-moos19_depth_mod$coefficients[1]+(moos19_depth_mod$coefficients[2])*moos.2019.pt$AvgAbsDepth"
"0","# "
"0","# "
"0","# "
"0","# # # Frch 2019:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_19.url <- ""https://drive.google.com/drive/u/1/folders/1bm62_JO1dKrFPyUCz8E88K5q7IHElXPP"""
"0","# WR.19.1 <- drive_get(as_id(WR_19.url))"
"0","# frch.wr19_glist <- drive_ls(WR.19.1, pattern = ""Frch_2019_flowmeter_Q_for_R_JAA.csv"")"
"0","# walk(frch.wr19_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# frch_WR_19.Data <- read.csv(""Frch_2019_flowmeter_Q_for_R_JAA.csv"","
"0","#                             skip = 1, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# frch_WR_19.Data <- frch_WR_19.Data %>% tidyr::fill(Date, .direction = (""down""))"
"0","# "
"0","# frch_WR_19.Data <- frch_WR_19.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# frch_WR_19.Data$datetimeAK <- as.POSIXct(paste(frch_WR_19.Data$Date, frch_WR_19.Data$Time), format=""%m/%d/%Y %H:%M"")"
"0","# "
"0","# "
"0","# frch_WR_19.Data <- frch_WR_19.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Frch_depth_19_WR <- ddply(na.omit(frch_WR_19.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # frch_wr.lm <- lm(meanDepth~datetimeAK, Frch_depth_19)"
"0","# "
"0","# "
"0","# Frch_depth_19_WR <- setDT(Frch_depth_19_WR)"
"0","# "
"0","# Frch_depth_19_WR <- Frch_depth_19_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# frch.2019.pt <- frch.2019.pt %>%"
"0","#   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# # frch.2019.pt <- frch.2019.pt %>%"
"0","# #   dplyr::rename(AvgAbsDepth = AbsPTDepth)"
"0","# "
"0","# frch.2019.pt <- setDT(frch.2019.pt)"
"0","# "
"0","# setDT(Frch_depth_19_WR)"
"0","# setDT(frch.2019.pt)"
"0","# "
"0","# frch.2019.pt$datetimeAK1 <- frch.2019.pt$datetimeAK"
"0","# "
"0","# setkey( frch.2019.pt, datetimeAK )"
"0","# setkey( Frch_depth_19_WR, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_frch19 <- frch.2019.pt[ Frch_depth_19_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_frch19_WR_PT <- rounded.dates_frch19 %>%"
"0","#   select(datetimeAK, AvgAbsDepth, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_frch19_WR_PT$meanDepth <- rounded.dates_frch19_WR_PT$meanDepth /100"
"0","# "
"0","# frch_pt_wr_graph <- ggplot(rounded.dates_frch19_WR_PT, aes(AvgAbsDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# frch_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/frch_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# frch19_depth_mod <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_frch19_WR_PT)"
"0","# "
"0","# summary(frch19_depth_mod)"
"0","# "
"0","# plot(meanDepth~AvgAbsDepth, data = rounded.dates_frch19_WR_PT)"
"0","# abline(frch19_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# frch.2019.pt$RatingCurveDepth <-frch19_depth_mod$coefficients[1]+(frch19_depth_mod$coefficients[2])*frch.2019.pt$AvgAbsDepth"
"0","# "
"0","# "
"0","# # # Strt 2019:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_19.url <- ""https://drive.google.com/drive/u/1/folders/1bm62_JO1dKrFPyUCz8E88K5q7IHElXPP"""
"0","# WR.19.1 <- drive_get(as_id(WR_19.url))"
"0","# strt.wr19_glist <- drive_ls(WR.19.1, pattern = ""STRT_2019_flowmeter_Q_for_R_JAA.csv"")"
"0","# walk(strt.wr19_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# strt_WR_19.Data <- read.csv(""STRT_2019_flowmeter_Q_for_R_JAA.csv"","
"0","#                             header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# strt_WR_19.Data <- strt_WR_19.Data %>% tidyr::fill(Date, .direction = (""down""))"
"0","# "
"0","# strt_WR_19.Data <- strt_WR_19.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# strt_WR_19.Data$datetimeAK <- as.POSIXct(paste(strt_WR_19.Data$Date, strt_WR_19.Data$Time), format=""%m/%d/%Y %H:%M"")"
"0","# "
"0","# "
"0","# strt_WR_19.Data <- strt_WR_19.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Strt_depth_19_WR <- ddply(na.omit(strt_WR_19.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # strt_wr.lm <- lm(meanDepth~datetimeAK, Strt_depth_19)"
"0","# "
"0","# "
"0","# Strt_depth_19_WR <- setDT(Strt_depth_19_WR)"
"0","# "
"0","# Strt_depth_19_WR <- Strt_depth_19_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# strt.2019.pt <- strt.2019.pt %>%"
"0","#   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# # strt.2019.pt <- strt.2019.pt %>%"
"0","# #   dplyr::rename(AvgAbsDepth = AbsPTDepth)"
"0","# "
"0","# strt.2019.pt <- setDT(strt.2019.pt)"
"0","# "
"0","# # setDT(Strt_depth_19)"
"0","# setDT(strt.2019.pt)"
"0","# "
"0","# strt.2019.pt$datetimeAK <- as.POSIXct(strt.2019.pt$datetimeAK)"
"0","# "
"0","# strt.2019.pt$datetimeAK1 <- strt.2019.pt$datetimeAK"
"0","# "
"0","# setkey( strt.2019.pt, datetimeAK )"
"0","# setkey( Strt_depth_19_WR, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_strt19 <- strt.2019.pt[ Strt_depth_19_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_strt19_WR_PT <- rounded.dates_strt19 %>%"
"0","#   select(datetimeAK, AvgAbsDepth, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_strt19_WR_PT$meanDepth <- rounded.dates_strt19_WR_PT$meanDepth /100"
"0","# "
"0","# strt_pt_wr_graph <- ggplot(rounded.dates_strt19_WR_PT, aes(AvgAbsDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# strt_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/strt_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# strt19_depth_mod <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_strt19_WR_PT)"
"0","# "
"0","# summary(strt19_depth_mod)"
"0","# "
"0","# plot(meanDepth~AvgAbsDepth, data = rounded.dates_strt19_WR_PT)"
"0","# # abline(strt19_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# strt.2019.pt$RatingCurveDepth <-strt19_depth_mod$coefficients[1]+(strt19_depth_mod$coefficients[2])*strt.2019.pt$AvgAbsDepth"
"0","# "
"0","# "
"0","# "
"0","# "
"0","# "
"0","# #### 2020 ####"
"0","# "
"0","# # Poke 2020:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_20_poke.url <- ""https://drive.google.com/drive/u/1/folders/1S2L8Qg08AIhQo1ZdKdaxlJliz4bi1ttr"""
"0","# WR.20_poke.1 <- drive_get(as_id(WR_20_poke.url))"
"0","# poke.wr20_glist <- drive_ls(WR.20_poke.1, pattern = ""R_Flowmeter Q calculation_POKE_for_R_JAA.csv"")"
"0","# walk(poke.wr20_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# poke_WR_20.Data <- read.csv(""R_Flowmeter Q calculation_POKE_for_R_JAA.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# poke_WR_20.Data <- poke_WR_20.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# poke_WR_20.Data$datetimeAK <- as.POSIXct(paste(as.character(poke_WR_20.Data$ï..Date), poke_WR_20.Data$Time), format=""%y%m%d %H:%M"")"
"0","# "
"0","# poke_WR_20.Data <- poke_WR_20.Data %>%"
"0","#   dplyr::rename(Depth..cm. = Depth)"
"0","# "
"0","# poke_WR_20.Data <- poke_WR_20.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Poke_depth_20_WR <- ddply(na.omit(poke_WR_20.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # poke_wr.lm <- lm(meanDepth~datetimeAK, Poke_depth_20)"
"0","# "
"0","# "
"0","# Poke_depth_20_WR <- setDT(Poke_depth_20_WR)"
"0","# "
"0","# Poke_depth_20_WR <- Poke_depth_20_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# poke.2020.pt <- poke.2020.pt %>%"
"0","#   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# poke.2020.pt <- setDT(poke.2020.pt)"
"0","# "
"0","# setDT(Poke_depth_20_WR)"
"0","# setDT(poke.2020.pt)"
"0","# "
"0","# poke.2020.pt$datetimeAK1 <- poke.2020.pt$datetimeAK"
"0","# "
"0","# setkey( poke.2020.pt, datetimeAK )"
"0","# setkey( Poke_depth_20_WR, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_poke20 <- poke.2020.pt[ Poke_depth_20_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_poke20_WR_PT <- rounded.dates_poke20 %>%"
"0","#   select(datetimeAK, AvgAbsDepth, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_poke20_WR_PT$meanDepth <- rounded.dates_poke20_WR_PT$meanDepth /100"
"0","# "
"0","# poke_pt_wr_graph <- ggplot(rounded.dates_poke20_WR_PT, aes(AvgAbsDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# poke_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/poke_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# poke20_depth_mod <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_poke20_WR_PT)"
"0","# "
"0","# summary(poke20_depth_mod)"
"0","# "
"0","# plot(meanDepth~AvgAbsDepth, data = rounded.dates_poke20_WR_PT)"
"0","# # abline(poke20_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# poke.2020.pt$RatingCurveDepth <- poke20_depth_mod$coefficients[1]+ (poke20_depth_mod$coefficients[2])*poke.2020.pt$AvgAbsDepth"
"0","# "
"0","# "
"0","# "
"0","# "
"0","# "
"0","# "
"0","# # Vaul 2020:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_20_vaul.url <- ""https://drive.google.com/drive/u/1/folders/1l-QIICuviZvugbNGrvoLfkCDgo1HyDMg"""
"0","# WR.20_vaul.1 <- drive_get(as_id(WR_20_vaul.url))"
"0","# vaul.wr20_glist <- drive_ls(WR.20_vaul.1, pattern = ""R_Flowmeter Q calculation_VAUL_for_R_JAA.csv"")"
"0","# walk(vaul.wr20_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# vaul_WR_20.Data <- read.csv(""R_Flowmeter Q calculation_VAUL_for_R_JAA.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# vaul_WR_20.Data <- vaul_WR_20.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# vaul_WR_20.Data$datetimeAK <- as.POSIXct(paste(as.character(vaul_WR_20.Data$ï..Date), vaul_WR_20.Data$Time), format=""%y%m%d %H:%M"")"
"0","# # "
"0","# # vaul_WR_20.Data <- vaul_WR_20.Data %>%"
"0","# #   dplyr::rename(Depth..cm. = Depth)"
"0","# "
"0","# vaul_WR_20.Data <- vaul_WR_20.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Vaul_depth_20_WR <- ddply(na.omit(vaul_WR_20.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # vaul_wr.lm <- lm(meanDepth~datetimeAK, Vaul_depth_20)"
"0","# "
"0","# "
"0","# Vaul_depth_20_WR <- setDT(Vaul_depth_20_WR)"
"0","# "
"0","# Vaul_depth_20_WR <- Vaul_depth_20_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# vaul.2020.pt <- vaul.2020.pt %>%"
"0","#   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# vaul.2020.pt <- setDT(vaul.2020.pt)"
"0","# "
"0","# # setDT(Vaul_depth_20)"
"0","# setDT(vaul.2020.pt)"
"0","# "
"0","# # vaul.2020.pt$datetimeAK1 <- vaul.2020.pt$datetimeAK"
"0","# "
"0","# setkey( vaul.2020.pt, datetimeAK )"
"0","# setkey( Vaul_depth_20_WR, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_vaul20 <- vaul.2020.pt[ Vaul_depth_20_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_vaul20_WR_PT <- rounded.dates_vaul20 %>%"
"0","#   select(datetimeAK, AvgAbsDepth, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_vaul20_WR_PT$meanDepth <- rounded.dates_vaul20_WR_PT$meanDepth /100"
"0","# "
"0","# vaul_pt_wr_graph <- ggplot(rounded.dates_vaul20_WR_PT, aes(AvgAbsDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# vaul_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/vaul_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# vaul20_depth_mod <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_vaul20_WR_PT)"
"0","# "
"0","# summary(vaul20_depth_mod)"
"0","# "
"0","# plot(meanDepth~AvgAbsDepth, data = rounded.dates_vaul20_WR_PT)"
"0","# abline(vaul20_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# vaul.2020.pt$RatingCurveDepth <- vaul20_depth_mod$coefficients[1]+ (vaul20_depth_mod$coefficients[2])*vaul.2020.pt$AvgAbsDepth"
"0","# "
"0","# "
"0","# "
"0","# "
"0","# # Moos 2020:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_20_moos.url <- ""https://drive.google.com/drive/u/1/folders/1O28nv-6gsmC_xsAwUFRjjouY9hS29FtK"""
"0","# WR.20_moos.1 <- drive_get(as_id(WR_20_moos.url))"
"0","# moos.wr20_glist <- drive_ls(WR.20_moos.1, pattern = ""R_Flowmeter Q calculation_MOOS_for_R_JAA.csv"")"
"0","# walk(moos.wr20_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# moos_WR_20.Data <- read.csv(""R_Flowmeter Q calculation_MOOS_for_R_JAA.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# moos_WR_20.Data <- moos_WR_20.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# moos_WR_20.Data$datetimeAK <- as.POSIXct(paste(as.character(moos_WR_20.Data$ï..Date), moos_WR_20.Data$Time), format=""%y%m%d %H:%M"")"
"0","# "
"0","# # moos_WR_20.Data <- moos_WR_20.Data %>%"
"0","# #   dplyr::rename(Depth..cm. = Depth)"
"0","# "
"0","# moos_WR_20.Data <- moos_WR_20.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Moos_depth_20_WR <- ddply(na.omit(moos_WR_20.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # moos_wr.lm <- lm(meanDepth~datetimeAK, Moos_depth_20)"
"0","# "
"0","# "
"0","# Moos_depth_20_WR <- setDT(Moos_depth_20_WR)"
"0","# "
"0","# Moos_depth_20_WR <- Moos_depth_20_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# # "
"0","# # moos.2020.pt <- moos.2020.pt %>%"
"0","# #   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# moos.2020.pt <- setDT(moos.2020.pt)"
"0","# "
"0","# # setDT(Moos_depth_20)"
"0","# setDT(moos.2020.pt)"
"0","# "
"0","# moos.2020.pt$datetimeAK <- as.POSIXct(moos.2020.pt$datetimeAK)"
"0","# "
"0","# moos.2020.pt$datetimeAK1 <- moos.2020.pt$datetimeAK"
"0","# "
"0","# "
"0","# setkey( moos.2020.pt, datetimeAK )"
"0","# setkey( Moos_depth_20_WR, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_moos20 <- moos.2020.pt[ Moos_depth_20_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_moos20_WR_PT <- rounded.dates_moos20 %>%"
"0","#   select(datetimeAK, WaterLevel, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_moos20_WR_PT$meanDepth <- rounded.dates_moos20_WR_PT$meanDepth /100"
"0","# "
"0","# moos_pt_wr_graph <- ggplot(rounded.dates_moos20_WR_PT, aes(WaterLevel, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# moos_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/moos_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# moos20_depth_mod <- lm(meanDepth~WaterLevel, data = rounded.dates_moos20_WR_PT)"
"0","# "
"0","# summary(moos20_depth_mod)"
"0","# "
"0","# plot(meanDepth~WaterLevel, data = rounded.dates_moos20_WR_PT)"
"0","# # abline(moos20_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# moos.2020.pt$RatingCurveDepth <- moos20_depth_mod$coefficients[1]+ (moos20_depth_mod$coefficients[2])*moos.2020.pt$WaterLevel"
"0","# "
"0","# "
"0","# "
"0","# "
"0","# # Frch 2020:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_20_frch.url <- ""https://drive.google.com/drive/u/1/folders/1tlcGKOm11j4nPqgBeTa1Hj6DFTrbZTvy"""
"0","# WR.20_frch.1 <- drive_get(as_id(WR_20_frch.url))"
"0","# frch.wr20_glist <- drive_ls(WR.20_frch.1, pattern = ""R_Flowmeter Q calculation_FRCH_for_R_JAA.csv"")"
"0","# walk(frch.wr20_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# frch_WR_20.Data <- read.csv(""R_Flowmeter Q calculation_FRCH_for_R_JAA.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# frch_WR_20.Data <- frch_WR_20.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# frch_WR_20.Data$datetimeAK <- as.POSIXct(paste(as.character(frch_WR_20.Data$Date), frch_WR_20.Data$Time), format=""%y%m%d %H:%M"")"
"0","# "
"0","# # frch_WR_20.Data <- frch_WR_20.Data %>%"
"0","# #   dplyr::rename(Depth..cm. = Depth)"
"0","# "
"0","# frch_WR_20.Data <- frch_WR_20.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Frch_depth_20_WR <- ddply(na.omit(frch_WR_20.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # frch_wr.lm <- lm(meanDepth~datetimeAK, Frch_depth_20)"
"0","# "
"0","# "
"0","# Frch_depth_20_WR <- setDT(Frch_depth_20_WR)"
"0","# "
"0","# Frch_depth_20_WR <- Frch_depth_20_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# # frch.2020.pt <- frch.2020.pt %>%"
"0","# #   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# frch.2020.pt <- setDT(frch.2020.pt)"
"0","# "
"0","# # setDT(Frch_depth_20)"
"0","# setDT(frch.2020.pt)"
"0","# "
"0","# frch.2020.pt$datetimeAK <- as.POSIXct(frch.2020.pt$datetimeAK)"
"0","# "
"0","# frch.2020.pt$datetimeAK1 <- frch.2020.pt$datetimeAK"
"0","# "
"0","# "
"0","# setkey( frch.2020.pt, datetimeAK )"
"0","# setkey( Frch_depth_20_WR, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_frch20 <- frch.2020.pt[ Frch_depth_20_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_frch20_WR_PT <- rounded.dates_frch20 %>%"
"0","#   select(datetimeAK, AvgAbsDepth, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_frch20_WR_PT$meanDepth <- rounded.dates_frch20_WR_PT$meanDepth /100"
"0","# "
"0","# frch_pt_wr_graph <- ggplot(rounded.dates_frch20_WR_PT, aes(AvgAbsDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# frch_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/frch_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# frch20_depth_mod <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_frch20_WR_PT)"
"0","# "
"0","# summary(frch20_depth_mod)"
"0","# "
"0","# plot(meanDepth~AvgAbsDepth, data = rounded.dates_frch20_WR_PT)"
"0","# # abline(frch20_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# frch.2020.pt$RatingCurveDepth <- frch20_depth_mod$coefficients[1]+ (frch20_depth_mod$coefficients[2])*frch.2020.pt$AvgAbsDepth"
"0","# "
"0","# "
"0","# "
"0","# "
"0","# # Moos 2020:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_20_moos.url <- ""https://drive.google.com/drive/u/1/folders/1O28nv-6gsmC_xsAwUFRjjouY9hS29FtK"""
"0","# WR.20_moos.1 <- drive_get(as_id(WR_20_moos.url))"
"0","# moos.wr20_glist <- drive_ls(WR.20_moos.1, pattern = ""R_Flowmeter Q calculation_MOOS_for_R_JAA.csv"")"
"0","# walk(moos.wr20_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# moos_WR_20.Data <- read.csv(""R_Flowmeter Q calculation_MOOS_for_R_JAA.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# moos_WR_20.Data <- moos_WR_20.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# moos_WR_20.Data$datetimeAK <- as.POSIXct(paste(as.character(moos_WR_20.Data$ï..Date), moos_WR_20.Data$Time), format=""%y%m%d %H:%M"")"
"0","# "
"0","# # moos_WR_20.Data <- moos_WR_20.Data %>%"
"0","# #   dplyr::rename(Depth..cm. = Depth)"
"0","# "
"0","# moos_WR_20.Data <- moos_WR_20.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Moos_depth_20_WR <- ddply(na.omit(moos_WR_20.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # moos_wr.lm <- lm(meanDepth~datetimeAK, Moos_depth_20)"
"0","# "
"0","# "
"0","# Moos_depth_20_WR <- setDT(Moos_depth_20_WR)"
"0","# "
"0","# Moos_depth_20_WR <- Moos_depth_20_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# # moos.2020.pt <- moos.2020.pt %>%"
"0","# #   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# moos.2020.pt <- setDT(moos.2020.pt)"
"0","# "
"0","# # setDT(Moos_depth_20)"
"0","# setDT(moos.2020.pt)"
"0","# "
"0","# moos.2020.pt$datetimeAK <- as.POSIXct(moos.2020.pt$datetimeAK)"
"0","# "
"0","# moos.2020.pt$datetimeAK1 <- moos.2020.pt$datetimeAK"
"0","# "
"0","# "
"0","# setkey( moos.2020.pt, datetimeAK )"
"0","# setkey( Moos_depth_20_WR, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_moos20 <- moos.2020.pt[ Moos_depth_20_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_moos20_WR_PT <- rounded.dates_moos20 %>%"
"0","#   select(datetimeAK, WaterLevel, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_moos20_WR_PT$meanDepth <- rounded.dates_moos20_WR_PT$meanDepth /100"
"0","# "
"0","# moos_pt_wr_graph <- ggplot(rounded.dates_moos20_WR_PT, aes(WaterLevel, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# moos_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/moos_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# moos20_depth_mod <- lm(meanDepth~WaterLevel, data = rounded.dates_moos20_WR_PT)"
"0","# "
"0","# summary(moos20_depth_mod)"
"0","# "
"0","# plot(meanDepth~WaterLevel, data = rounded.dates_moos20_WR_PT)"
"0","# # abline(moos20_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# moos.2020.pt$RatingCurveDepth <- moos20_depth_mod$coefficients[1]+ (moos20_depth_mod$coefficients[2])*moos.2020.pt$WaterLevel"
"0","# "
"0","# "
"0","# "
"0","# "
"0","# # Strt 2020:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_20_strt.url <- ""https://drive.google.com/drive/u/1/folders/1x_E4gaPvjRLDcrM8lN2ao4_o0bzdMBrb"""
"0","# WR.20_strt.1 <- drive_get(as_id(WR_20_strt.url))"
"0","# strt.wr20_glist <- drive_ls(WR.20_strt.1, pattern = ""R_Flowmeter Q calculation_STRT_for_R_JAA.csv"")"
"0","# walk(strt.wr20_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# strt_WR_20.Data <- read.csv(""R_Flowmeter Q calculation_STRT_for_R_JAA.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# strt_WR_20.Data <- strt_WR_20.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# strt_WR_20.Data$datetimeAK <- as.POSIXct(paste(as.character(strt_WR_20.Data$ï..Date), strt_WR_20.Data$Time), format=""%y%m%d %H:%M"")"
"0","# "
"0","# # strt_WR_20.Data <- strt_WR_20.Data %>%"
"0","# #   dplyr::rename(Depth..cm. = Depth)"
"0","# "
"0","# strt_WR_20.Data <- strt_WR_20.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Strt_depth_20_WR <- ddply(na.omit(strt_WR_20.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # strt_wr.lm <- lm(meanDepth~datetimeAK, Strt_depth_20)"
"0","# "
"0","# "
"0","# Strt_depth_20_WR <- setDT(Strt_depth_20_WR)"
"0","# "
"0","# Strt_depth_20_WR <- Strt_depth_20_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# # strt.2020.pt <- strt.2020.pt %>%"
"0","# #   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# strt.2020.pt <- setDT(strt.2020.pt)"
"0","# "
"0","# # setDT(Strt_depth_20)"
"0","# setDT(strt.2020.pt)"
"0","# "
"0","# strt.2020.pt$datetimeAK <- as.POSIXct(strt.2020.pt$datetimeAK)"
"0","# "
"0","# strt.2020.pt$datetimeAK1 <- strt.2020.pt$datetimeAK"
"0","# "
"0","# "
"0","# setkey( strt.2020.pt, datetimeAK )"
"0","# setkey( Strt_depth_20_WR, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_strt20 <- strt.2020.pt[ Strt_depth_20_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_strt20_WR_PT <- rounded.dates_strt20 %>%"
"0","#   select(datetimeAK, AvgAbsDepth, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_strt20_WR_PT$meanDepth <- rounded.dates_strt20_WR_PT$meanDepth /100"
"0","# "
"0","# strt_pt_wr_graph <- ggplot(rounded.dates_strt20_WR_PT, aes(AvgAbsDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# strt_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/strt_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# strt20_depth_mod <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_strt20_WR_PT)"
"0","# "
"0","# summary(strt20_depth_mod)"
"0","# "
"0","# plot(meanDepth~AvgAbsDepth, data = rounded.dates_strt20_WR_PT)"
"0","# # abline(strt20_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# strt.2020.pt$RatingCurveDepth <- strt20_depth_mod$coefficients[1]+ (strt20_depth_mod$coefficients[2])*strt.2020.pt$AvgAbsDepth"
"0","# "
"0","# #Curve is being skewed by a single point in november, maybe due to ice or other conditions. Plot below is without that point. It appears to be an outlier."
"0","# "
"0","# rounded.dates_strt20_WR_PT_2 <- rounded.dates_strt20_WR_PT[-c(9), ]"
"0","# "
"0","# strt20_depth_mod2 <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_strt20_WR_PT_2)"
"0","# "
"0","# "
"0","# strt_pt_wr_graph2 <- ggplot(rounded.dates_strt20_WR_PT_2, aes(AvgAbsDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# strt_pt_wr_graph2 + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/strt_pt_wr_graph2.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# strt20_depth_mod2 <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_strt20_WR_PT_2)"
"0","# "
"0","# summary(strt20_depth_mod2)"
"0","# "
"0","# plot(meanDepth~AvgAbsDepth, data = rounded.dates_strt20_WR_PT_2)"
"0","# # abline(strt20_depth_mod2)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# strt.2020.pt$RatingCurveDepth2 <- strt20_depth_mod2$coefficients[1]+ (strt20_depth_mod2$coefficients[2])*strt.2020.pt$AvgAbsDepth"
"0","# "
"0","# "
"0","# #add original back in to compare"
"0","# "
"0","# strt.2020.pt$RatingCurveDepth <- strt20_depth_mod$coefficients[1]+ (strt20_depth_mod$coefficients[2])*strt.2020.pt$AvgAbsDepth"
"0","# "
"0","# #it is bad. use original"
"0","# strt.2020.pt$RatingCurveDepth <- strt.2020.pt$RatingCurveDepth2"
"0","# "
"0","# "
"0","# #### 2021 ####"
"0","# "
"0","# # Poke 2021:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_21_poke.url <- ""https://drive.google.com/drive/u/1/folders/18z6vSz6SE3DEvUVDyfM8I3gqkGaxQqOl"""
"0","# WR.21_poke.1 <- drive_get(as_id(WR_21_poke.url))"
"0","# poke.wr21_glist <- drive_ls(WR.21_poke.1, pattern = ""R_Flowmeter Q calculation_POKE_for_R_JAA_2021.csv"")"
"0","# walk(poke.wr21_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# poke_WR_21.Data <- read.csv(""R_Flowmeter Q calculation_POKE_for_R_JAA_2021.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# poke_WR_21.Data <- poke_WR_21.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# poke_WR_21.Data$datetimeAK <- as.POSIXct(paste(as.character(poke_WR_21.Data$ï..Date), poke_WR_21.Data$Time), format=""%y%m%d %H:%M"")"
"0","# "
"0","# # poke_WR_21.Data <- poke_WR_21.Data %>%"
"0","# # dplyr::rename(Depth..cm. = Depth)"
"0","# "
"0","# poke_WR_21.Data <- poke_WR_21.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Poke_depth_21_WR <- ddply(na.omit(poke_WR_21.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # poke_wr.lm <- lm(meanDepth~datetimeAK, Poke_depth_21)"
"0","# "
"0","# "
"0","# Poke_depth_21_WR <- setDT(Poke_depth_21_WR)"
"0","# "
"0","# Poke_depth_21_WR <- Poke_depth_21_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# poke.2021.pt <- poke.2021.pt %>%"
"0","#   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# poke.2021.pt <- setDT(poke.2021.pt)"
"0","# "
"0","# setDT(Poke_depth_21_WR)"
"0","# setDT(poke.2021.pt)"
"0","# "
"0","# poke.2021.pt$datetimeAK1 <- poke.2021.pt$datetimeAK"
"0","# "
"0","# setkey( poke.2021.pt, datetimeAK )"
"0","# setkey( Poke_depth_21_WR, datetimeAK )"
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_poke21 <- poke.2021.pt[ Poke_depth_21_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_poke21_WR_PT <- rounded.dates_poke21 %>%"
"0","#   select(datetimeAK, AvgAbsDepth, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_poke21_WR_PT$meanDepth <- rounded.dates_poke21_WR_PT$meanDepth /100"
"0","# "
"0","# poke_pt_wr_graph <- ggplot(rounded.dates_poke21_WR_PT, aes(AvgAbsDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# poke_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/poke_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# poke21_depth_mod <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_poke21_WR_PT)"
"0","# "
"0","# summary(poke21_depth_mod)"
"0","# "
"0","# plot(meanDepth~AvgAbsDepth, data = rounded.dates_poke21_WR_PT)"
"0","# # abline(poke21_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# poke.2021.pt$RatingCurveDepth <- poke21_depth_mod$coefficients[1]+ (poke21_depth_mod$coefficients[2])*poke.2021.pt$AvgAbsDepth"
"0","# "
"0","# "
"0","# "
"0","# # Vaul 2021:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_21_vaul.url <- ""https://drive.google.com/drive/u/1/folders/13avby555rryYttGDgO8sKE7umZPmo5uB"""
"0","# WR.21_vaul.1 <- drive_get(as_id(WR_21_vaul.url))"
"0","# vaul.wr21_glist <- drive_ls(WR.21_vaul.1, pattern = ""R_Flowmeter Q calculation_VAUL_for_R_JAA_2021.csv"")"
"0","# walk(vaul.wr21_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# vaul_WR_21.Data <- read.csv(""R_Flowmeter Q calculation_VAUL_for_R_JAA_2021.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# vaul_WR_21.Data <- vaul_WR_21.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# vaul_WR_21.Data$datetimeAK <- as.POSIXct(paste(as.character(vaul_WR_21.Data$ï..Date), vaul_WR_21.Data$Time), format=""%y%m%d %H:%M"")"
"0","# "
"0","# # vaul_WR_21.Data <- vaul_WR_21.Data %>%"
"0","# #   dplyr::rename(Depth..cm. = Depth)"
"0","# "
"0","# vaul_WR_21.Data <- vaul_WR_21.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Vaul_depth_21_WR <- ddply(na.omit(vaul_WR_21.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # vaul_wr.lm <- lm(meanDepth~datetimeAK, Vaul_depth_21)"
"0","# "
"0","# "
"0","# Vaul_depth_21_WR <- setDT(Vaul_depth_21_WR)"
"0","# "
"0","# Vaul_depth_21_WR <- Vaul_depth_21_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# # vaul.2021.pt <- vaul.2021.pt %>%"
"0","# #   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# vaul.2021.pt <- setDT(vaul.2021.pt)"
"0","# "
"0","# # setDT(Vaul_depth_21)"
"0","# setDT(vaul.2021.pt)"
"0","# "
"0","# vaul.2021.pt$datetimeAK1 <- vaul.2021.pt$datetimeAK"
"0","# "
"0","# vaul.2021.pt$datetimeAK <- as.POSIXct(vaul.2021.pt$datetimeAK)"
"0","# "
"0","# vaul.2021.pt$datetimeAK <- as.POSIXct(vaul.2021.pt$datetimeAK)"
"0","# "
"0","# setkey( vaul.2021.pt, datetimeAK )"
"0","# setkey( Vaul_depth_21_WR, datetimeAK )"
"0","# "
"0","# "
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_vaul21 <- vaul.2021.pt[Vaul_depth_21_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_vaul21_WR_PT <- rounded.dates_vaul21 %>%"
"0","#   select(datetimeAK, WaterLevel, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_vaul21_WR_PT$meanDepth <- rounded.dates_vaul21_WR_PT$meanDepth /100"
"0","# "
"0","# vaul_pt_wr_graph <- ggplot(rounded.dates_vaul21_WR_PT, aes(WaterLevel, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# vaul_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/vaul_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# vaul21_depth_mod <- lm(meanDepth~WaterLevel, data = rounded.dates_vaul21_WR_PT)"
"0","# "
"0","# summary(vaul21_depth_mod)"
"0","# "
"0","# plot(meanDepth~WaterLevel, data = rounded.dates_vaul21_WR_PT)"
"0","# # abline(vaul21_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# vaul.2021.pt$RatingCurveDepth <- vaul21_depth_mod$coefficients[1]+ (vaul21_depth_mod$coefficients[2])*vaul.2021.pt$WaterLevel"
"0","# "
"0","# "
"0","# "
"0","# "
"0","# "
"0","# "
"0","# "
"0","# # Moos 2021:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_21_moos.url <- ""https://drive.google.com/drive/u/1/folders/1-S_ixEutlA7RKfrvhi15aIBLrjYjg5O_"""
"0","# WR.21_moos.1 <- drive_get(as_id(WR_21_moos.url))"
"0","# moos.wr21_glist <- drive_ls(WR.21_moos.1, pattern = ""R_Flowmeter Q calculation_MOOS_for_R_JAA_2021.csv"")"
"0","# walk(moos.wr21_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# moos_WR_21.Data <- read.csv(""R_Flowmeter Q calculation_MOOS_for_R_JAA_2021.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# moos_WR_21.Data <- moos_WR_21.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# moos_WR_21.Data$datetimeAK <- as.POSIXct(paste(as.character(moos_WR_21.Data$ï..Date), moos_WR_21.Data$Time), format=""%y%m%d %H:%M"")"
"0","# "
"0","# # moos_WR_21.Data <- moos_WR_21.Data %>%"
"0","# #   dplyr::rename(Depth..cm. = Depth)"
"0","# "
"0","# moos_WR_21.Data <- moos_WR_21.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Moos_depth_21_WR <- ddply(na.omit(moos_WR_21.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # moos_wr.lm <- lm(meanDepth~datetimeAK, Moos_depth_21)"
"0","# "
"0","# "
"0","# Moos_depth_21_WR <- setDT(Moos_depth_21_WR)"
"0","# "
"0","# Moos_depth_21_WR <- Moos_depth_21_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# # "
"0","# # moos.2021.pt <- moos.2021.pt %>%"
"0","# #   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# moos.2021.pt <- setDT(moos.2021.pt)"
"0","# "
"0","# # setDT(Moos_depth_21)"
"0","# setDT(moos.2021.pt)"
"0","# "
"0","# moos.2021.pt$datetimeAK1 <- moos.2021.pt$datetimeAK"
"0","# "
"0","# moos.2021.pt$datetimeAK <- as.POSIXct(moos.2021.pt$datetimeAK)"
"0","# "
"0","# moos.2021.pt$datetimeAK <- as.POSIXct(moos.2021.pt$datetimeAK)"
"0","# "
"0","# setkey( moos.2021.pt, datetimeAK )"
"0","# setkey( Moos_depth_21_WR, datetimeAK )"
"0","# "
"0","# "
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_moos21 <- moos.2021.pt[Moos_depth_21_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_moos21_WR_PT <- rounded.dates_moos21 %>%"
"0","#   select(datetimeAK, AvgAbsDepth, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_moos21_WR_PT$meanDepth <- rounded.dates_moos21_WR_PT$meanDepth /100"
"0","# "
"0","# moos_pt_wr_graph <- ggplot(rounded.dates_moos21_WR_PT, aes(AvgAbsDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# moos_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/moos_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# moos21_depth_mod <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_moos21_WR_PT)"
"0","# "
"0","# summary(moos21_depth_mod)"
"0","# "
"0","# plot(meanDepth~AvgAbsDepth, data = rounded.dates_moos21_WR_PT)"
"0","# # abline(moos21_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# moos.2021.pt$RatingCurveDepth <- moos21_depth_mod$coefficients[1]+ (moos21_depth_mod$coefficients[2])*moos.2021.pt$AvgAbsDepth"
"0","# "
"0","# "
"0","# "
"0","# "
"0","# "
"0","# # Frch 2021:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_21_frch.url <- ""https://drive.google.com/drive/u/1/folders/1MrFabu9Mzuv3v4naPl2-iCFaMj_DjkZG"""
"0","# WR.21_frch.1 <- drive_get(as_id(WR_21_frch.url))"
"0","# frch.wr21_glist <- drive_ls(WR.21_frch.1, pattern = ""R_Flowmeter_Q_calulation_FRCH_for_R_JAA_2021.csv"")"
"0","# walk(frch.wr21_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# frch_WR_21.Data <- read.csv(""R_Flowmeter_Q_calulation_FRCH_for_R_JAA_2021.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# frch_WR_21.Data <- frch_WR_21.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# frch_WR_21.Data$datetimeAK <- as.POSIXct(paste(as.character(frch_WR_21.Data$ï..Date), frch_WR_21.Data$Time), format=""%y%m%d %H:%M"")"
"0","# # "
"0","# # frch_WR_21.Data <- frch_WR_21.Data %>%"
"0","# #   dplyr::rename(Depth..cm. = Depth)"
"0","# "
"0","# frch_WR_21.Data <- frch_WR_21.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Frch_depth_21_WR <- ddply(na.omit(frch_WR_21.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # frch_wr.lm <- lm(meanDepth~datetimeAK, Frch_depth_21)"
"0","# "
"0","# "
"0","# Frch_depth_21_WR <- setDT(Frch_depth_21_WR)"
"0","# "
"0","# Frch_depth_21_WR <- Frch_depth_21_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# # frch.2021.pt <- frch.2021.pt %>%"
"0","# #   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# frch.2021.pt <- setDT(frch.2021.pt)"
"0","# "
"0","# # setDT(Frch_depth_21)"
"0","# setDT(frch.2021.pt)"
"0","# "
"0","# frch.2021.pt$datetimeAK1 <- frch.2021.pt$datetimeAK"
"0","# "
"0","# frch.2021.pt$datetimeAK <- as.POSIXct(frch.2021.pt$datetimeAK)"
"0","# "
"0","# frch.2021.pt$datetimeAK <- as.POSIXct(frch.2021.pt$datetimeAK)"
"0","# "
"0","# setkey( frch.2021.pt, datetimeAK )"
"0","# setkey( Frch_depth_21_WR, datetimeAK )"
"0","# "
"0","# "
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_frch21 <- frch.2021.pt[Frch_depth_21_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_frch21_WR_PT <- rounded.dates_frch21 %>%"
"0","#   select(datetimeAK, AvgAbsDepth, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_frch21_WR_PT$meanDepth <- rounded.dates_frch21_WR_PT$meanDepth /100"
"0","# "
"0","# frch_pt_wr_graph <- ggplot(rounded.dates_frch21_WR_PT, aes(AvgAbsDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# frch_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/frch_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# frch21_depth_mod <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_frch21_WR_PT)"
"0","# "
"0","# summary(frch21_depth_mod)"
"0","# "
"0","# plot(meanDepth~AvgAbsDepth, data = rounded.dates_frch21_WR_PT)"
"0","# # abline(frch21_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# frch.2021.pt$RatingCurveDepth <- frch21_depth_mod$coefficients[1]+ (frch21_depth_mod$coefficients[2])*frch.2021.pt$AvgAbsDepth"
"0","# "
"0","# "
"0","# "
"0","# "
"0","# "
"0","# "
"0","# # Strt 2021:"
"0","# "
"0","# #download flowmeter data"
"0","# WR_21_strt.url <- ""https://drive.google.com/drive/u/1/folders/1LTD4EFX3_Yas0ZCF8rKLl6dxSeZDvkDY"""
"0","# WR.21_strt.1 <- drive_get(as_id(WR_21_strt.url))"
"0","# strt.wr21_glist <- drive_ls(WR.21_strt.1, pattern = ""R_Flowmeter Q calculation_STRT_for_R_JAA_2021.csv"")"
"0","# walk(strt.wr21_glist$id, ~ drive_download(as_id(.x), overwrite = TRUE))"
"0","# strt_WR_21.Data <- read.csv(""R_Flowmeter Q calculation_STRT_for_R_JAA_2021.csv"","
"0","#                             skip = 0, header = TRUE, na.strings=c("""",""NA"",""blank""))"
"0","# "
"0","# "
"0","# strt_WR_21.Data <- strt_WR_21.Data %>% tidyr::fill(Time, .direction = (""down""))"
"0","# "
"0","# "
"0","# strt_WR_21.Data$datetimeAK <- as.POSIXct(paste(as.character(strt_WR_21.Data$Date), strt_WR_21.Data$Time), format=""%y%m%d %H:%M"")"
"0","# "
"0","# # strt_WR_21.Data <- strt_WR_21.Data %>%"
"0","# #   dplyr::rename(Depth..cm. = Depth)"
"0","# "
"0","# strt_WR_21.Data <- strt_WR_21.Data %>%"
"0","#   select(Depth..cm., datetimeAK)"
"0","# "
"0","# Strt_depth_21_WR <- ddply(na.omit(strt_WR_21.Data), .(datetimeAK), summarize, meanDepth = mean(as.numeric(Depth..cm.)))"
"0","# "
"0","# # strt_wr.lm <- lm(meanDepth~datetimeAK, Strt_depth_21)"
"0","# "
"0","# "
"0","# Strt_depth_21_WR <- setDT(Strt_depth_21_WR)"
"0","# "
"0","# Strt_depth_21_WR <- Strt_depth_21_WR %>%"
"0","#   dplyr::rename(datetimeAK = datetimeAK)"
"0","# "
"0","# # strt.2021.pt <- strt.2021.pt %>%"
"0","# #   dplyr::rename(datetimeAK = DateTime)"
"0","# "
"0","# strt.2021.pt <- setDT(strt.2021.pt)"
"0","# "
"0","# # setDT(Strt_depth_21)"
"0","# setDT(strt.2021.pt)"
"0","# "
"0","# strt.2021.pt$datetimeAK1 <- strt.2021.pt$datetimeAK"
"0","# "
"0","# strt.2021.pt$datetimeAK <- as.POSIXct(strt.2021.pt$datetimeAK)"
"0","# "
"0","# strt.2021.pt$datetimeAK <- as.POSIXct(strt.2021.pt$datetimeAK)"
"0","# "
"0","# setkey( strt.2021.pt, datetimeAK )"
"0","# setkey( Strt_depth_21_WR, datetimeAK )"
"0","# "
"0","# "
"0","# "
"0","# #WR was taken when EXO out of water. round depth point to nearest in data record"
"0","# rounded.dates_strt21 <- strt.2021.pt[Strt_depth_21_WR, roll = ""nearest"" ]"
"0","# "
"0","# rounded.dates_strt21_WR_PT <- rounded.dates_strt21 %>%"
"0","#   select(datetimeAK, AvgAbsDepth, meanDepth)"
"0","# "
"0","# #convert to meters"
"0","# rounded.dates_strt21_WR_PT$meanDepth <- rounded.dates_strt21_WR_PT$meanDepth /100"
"0","# "
"0","# strt_pt_wr_graph <- ggplot(rounded.dates_strt21_WR_PT, aes(AvgAbsDepth, meanDepth)) +"
"0","#   geom_point()"
"0","# # Add regression line"
"0","# strt_pt_wr_graph + geom_smooth(method = lm) + xlab(""Depth (PT)"") +ylab (""Depth (WR)"")"
"0","# "
"0","# ggsave(""plots/strt_pt_wr_graph.png"", width = 15, height = 10, units = ""cm"", scale = 1.3)"
"0","# "
"0","# "
"0","# strt21_depth_mod <- lm(meanDepth~AvgAbsDepth, data = rounded.dates_strt21_WR_PT)"
"0","# "
"0","# summary(strt21_depth_mod)"
"0","# "
"0","# plot(meanDepth~AvgAbsDepth, data = rounded.dates_strt21_WR_PT)"
"0","# # abline(strt21_depth_mod)"
"0","# "
"0","# #extract slope of model and develop rating curve"
"0","# strt.2021.pt$RatingCurveDepth <- strt21_depth_mod$coefficients[1]+ (strt21_depth_mod$coefficients[2])*strt.2021.pt$AvgAbsDepth"
"0","# "
"0","# "
"0","# "
"0","# "
"0","# "
"0","# "
"0",""
"0",""
"0",""
"0","#### combine ####"
"0",""
"0","poke.2019.depth <- poke.2019.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","poke.2020.depth <- poke.2020.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","poke.2021.depth <- poke.2021.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","poke.depth <- rbind (poke.2019.depth, poke.2020.depth, poke.2021.depth)"
"0",""
"0",""
"0",""
"0",""
"0","vaul.2019.depth <- vaul.2019.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","vaul.2020.depth <- vaul.2020.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","vaul.2020.depth <- vaul.2020.depth %>% filter(datetimeAK <= ""2020-10-14 03:45:00"")"
"0",""
"0","vaul.2021.depth <- vaul.2021.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","vaul.depth <- rbind (vaul.2019.depth, vaul.2020.depth, vaul.2021.depth)"
"0",""
"0",""
"0",""
"0","moos.2019.depth <- moos.2019.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","moos.2020.depth <- moos.2020.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","moos.2020.depth <- moos.2020.depth %>% filter(datetimeAK <= ""2020-10-15 08:45:00"")"
"0",""
"0",""
"0",""
"0","moos.2021.depth <- moos.2021.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","moos.depth <- rbind (moos.2019.depth, moos.2020.depth, moos.2021.depth)"
"0",""
"0",""
"0",""
"0",""
"0","frch.2019.depth <- frch.2019.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","frch.2020.depth <- frch.2020.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","frch.2020.depth <- frch.2020.depth %>% filter(datetimeAK >= ""2020-01-01 00:00:00"" & datetimeAK <= ""2020-10-15 02:30:00"")"
"0",""
"0",""
"0","frch.2021.depth <- frch.2021.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","frch.depth <- rbind (frch.2019.depth, frch.2020.depth, frch.2021.depth)"
"0",""
"0",""
"0",""
"0","strt.2019.depth <- strt.2019.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","strt.2020.depth <- strt.2020.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","strt.2020.depth <- strt.2020.depth %>% filter(datetimeAK <= ""2020-10-13 06:30:00"")"
"0",""
"0","strt.2021.depth <- strt.2021.q.dt %>%"
"0","  select(RatingCurveDepth, datetimeAK)"
"0",""
"0","strt.depth <- rbind (strt.2019.depth, strt.2020.depth, strt.2021.depth)"
"0",""
"0","########################### INPUT SYNTHESIS AND PLOTS ####################"
"0",""
"0","# Make Figures with data "
"0","#Packages I think I might perhaps maybe need..."
"0","library(ggpubr)"
"0","library(anytime)"
"0","library(googlesheets4)"
"0","library(ggpmisc)"
"0","library(plyr)"
"0",""
"0","library(dplyr)"
"0","library(lubridate)"
"0","library(tidyverse)"
"0","library(lubridate)"
"0","library(ggplot2)"
"0","library(scales)"
"0",""
"0","library(zoo)"
"0","library(xts)"
"0","library(forecast)"
"0","library(googledrive)"
"0","library(streamMetabolizer)"
"0","library(readr)"
"0","library(ggpubr)"
"0","library(here)"
"0","#start in DO stitch and other stitch scripts"
"0","#run script 1 again if it does not work"
"0",""
"0",""
"0",""
"0","##### FRCH ####"
"0","#DO and Temp Data"
"0","All.years.frch.MESSY"
